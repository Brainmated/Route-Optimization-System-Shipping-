<!DOCTYPE html>
{% load static %}
<html lang="en">
<head>
    <link rel="stylesheet" href="{% static 'styles.css' %}">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Map with Information and Input Boxes</title>
</head>
<body>
    <div id="map" class="map-container">
        {{ map_html|safe }}
        {% if not simulation_run %}
        <div id="input-box" class="input-container">
            <form method="post" action="{% url 'simulate' %}">
                {% csrf_token %}
                <div class="dropdown-container">
                    <label for="locationA">Location A:</label>
                    <select name="locationA" id="locationA">
                        <option value="">Select Location A</option>
                        {% for port in ports %}
                            <option value="{{ port.name }}">{{ port.name }}</option>
                        {% endfor %}
                    </select>
                </div>
                <div class="dropdown-container">
                    <label for="locationB">Location B:</label>
                    <select name="locationB" id="locationB">
                        <option value="">Select Location B</option>
                        {% for port in ports %}
                            <option value="{{ port.name }}">{{ port.name }}</option>
                        {% endfor %}
                    </select>
                </div>
                <!-- Note: You would need to implement addLocation in Django views if it's supposed to change the form -->
                <div class="add-location">+ Add more locations</div>
                <select name="vesselType" id="vesselType">
                    <option value="">Vessel Type</option>
                    <!-- Add options here -->
                </select>
                <input type="number" name="weight" placeholder="Weight">
                <select name="propellerCondition" id="propellerCondition">
                    <option value="">Propeller Condition</option>
                    <!-- Add options here -->
                </select>
                <input type="number" name="currentGasPrice" placeholder="Current Gas Price">
                <!-- Removed the inline onclick handler -->
                <button type="submit" name="action" value="simulate">Simulate</button>
            </form>
        </div>
        {% endif %}
        {% if simulation_run %}
        <div id="info-box">
            Information
            <p>From {{ locationA }} to {{ locationB }}, the distance in kilometers is {{ distance_km }}.</p>
            <form action="{% url 'debug' %}" method="get">
                <button type="submit">Change/Modify Route</button>
            </form>
        </div>
        {% endif %}
    </div>
</body>
</html>